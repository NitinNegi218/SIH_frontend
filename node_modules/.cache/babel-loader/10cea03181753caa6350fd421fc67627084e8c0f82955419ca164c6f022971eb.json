{"ast":null,"code":"import _regeneratorRuntime from\"/home/nitin/Desktop/sih/SIH_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/nitin/Desktop/sih/SIH_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/nitin/Desktop/sih/SIH_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable jsx-a11y/img-redundant-alt */ /* eslint-disable jsx-a11y/alt-text */import React,{useState,useRef}from'react';import Cards from'../Cards';import Footer from'../Footer';import axios from'axios';import'./Services.css';import CardItem from'../CardItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Services(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedImage=_useState2[0],setSelectedImage=_useState2[1];var fileInputRef=useRef(null);// Function to open the file input when the button is clicked\n// const handleButtonClick = () => {\n//   fileInputRef.current.click();\n// };\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedFile=_useState4[0],setSelectedFile=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),classificationResult=_useState6[0],setClassificationResult=_useState6[1];var handleFileChange=function handleFileChange(event){setSelectedFile(event.target.files[0]);setSelectedImage(URL.createObjectURL(event.target.files[0]));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();formData=new FormData();formData.append('file',selectedFile);_context.prev=3;_context.next=6;return axios.post('/upload',formData);case 6:response=_context.sent;setClassificationResult(response.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// Function to handle file selection\n// const handleFileSelect = () => {\n//   const file = selectedFile; // Get the selected file\n//   if (file) {\n//     // Display the selected image\n//     const reader = new FileReader();\n//     reader.onload = (e) => {\n//       setSelectedImage(e.target.result);\n//     };\n//     reader.readAsDataURL(file);\n//   }\n// };\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',height:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Upload and Display Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"Chikki\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"custom-file-input\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-button\",children:[selectedFile?/*#__PURE__*/_jsx(\"span\",{children:selectedFile.name}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Choose file\"})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",onChange:handleFileChange,accept:\".jpg\",style:{display:'none'}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:'#242222',color:'#fff',padding:'10px 20px',border:'none',borderRadius:'4px',cursor:'pointer',marginTop:'10px'},onClick:console.log(selectedImage),children:\"UPLOAD\"})]}),classificationResult?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CardItem,{src:selectedImage,text:classificationResult.description,label:classificationResult.result,path:\"#\"})}):/*#__PURE__*/_jsx(_Fragment,{})]}),classificationResult&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Classification Result:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(classificationResult,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsx(Cards,{}),/*#__PURE__*/_jsx(Footer,{})]})]});}export default Services;","map":{"version":3,"names":["React","useState","useRef","Cards","Footer","axios","CardItem","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Services","_useState","_useState2","_slicedToArray","selectedImage","setSelectedImage","fileInputRef","_useState3","_useState4","selectedFile","setSelectedFile","_useState5","_useState6","classificationResult","setClassificationResult","handleFileChange","event","target","files","URL","createObjectURL","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","post","sent","data","t0","console","error","stop","_x","apply","arguments","style","display","flexDirection","alignItems","height","children","textAlign","onSubmit","class","htmlFor","className","name","type","id","onChange","accept","backgroundColor","color","padding","border","borderRadius","cursor","marginTop","onClick","log","src","text","description","label","result","path","JSON","stringify","width"],"sources":["/home/nitin/Desktop/sih/SIH_frontend/src/components/pages/Services.js"],"sourcesContent":["/* eslint-disable jsx-a11y/img-redundant-alt */\n/* eslint-disable jsx-a11y/alt-text */\nimport React, { useState, useRef } from 'react';\nimport Cards from '../Cards';\nimport Footer from '../Footer';\nimport axios from 'axios';\nimport './Services.css';\nimport CardItem from '../CardItem';\n\nfunction Services() {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const fileInputRef = useRef(null);\n\n  // Function to open the file input when the button is clicked\n  // const handleButtonClick = () => {\n  //   fileInputRef.current.click();\n  // };\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [classificationResult, setClassificationResult] = useState(null);\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n    setSelectedImage(URL.createObjectURL(event.target.files[0]));\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const response = await axios.post('/upload', formData);\n      setClassificationResult(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n\n  // Function to handle file selection\n  // const handleFileSelect = () => {\n  //   const file = selectedFile; // Get the selected file\n  //   if (file) {\n  //     // Display the selected image\n  //     const reader = new FileReader();\n  //     reader.onload = (e) => {\n  //       setSelectedImage(e.target.result);\n  //     };\n  //     reader.readAsDataURL(file);\n  //   }\n  // };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', height: '100vh'}}>\n       \n      <div style={{ textAlign: 'center' }}>\n        {/* Right side content */}\n        <h1>Upload and Display Image\n        </h1><br></br>\n          <form onSubmit={handleSubmit}>\n            <div class ='Chikki'>\n              <label htmlFor=\"fileInput\" className=\"custom-file-input\">\n                \n                <div className=\"file-input-button\">\n                  {selectedFile ? (<span>{selectedFile.name}</span>) : (<></>)}\n                  <span>Choose file</span>\n                </div>\n              </label>\n              <input\n                  type=\"file\"\n                  id=\"fileInput\"\n                  onChange={handleFileChange}\n                  accept=\".jpg\"\n                  style={{ display: 'none' }}\n                />\n            </div>\n            <button\n              type=\"submit\"\n              style={{\n                backgroundColor: '#242222',\n                color: '#fff',\n                padding: '10px 20px',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                marginTop : '10px',\n              }}\n              onClick = {console.log(selectedImage)}\n\n            >\n              UPLOAD\n            </button>\n          </form>\n          {/* use this code after the backend call */}\n          {classificationResult ? (\n            <>\n    \n            <CardItem\n            src={selectedImage}\n            text={classificationResult.description}\n            label={classificationResult.result}\n            path='#'\n            />\n\n            </>\n          ) : (<></>)}\n          {/* <input\n          type=\"file\"\n          accept=\"image/*\"\n          ref={fileInputRef}\n          style={{ display: 'none' }}\n          onChange={handleFileSelect}\n           */}\n      \n\n      </div>\n      {classificationResult && (\n        <div>\n          <h2>Classification Result:</h2>\n          <pre>{JSON.stringify(classificationResult, null, 2)}</pre>\n        </div>\n      )}\n      <div style={{ width: '100%' }}>\n        <Cards />\n        <Footer />\n      </div>\n    \n    </div>\n   \n  );\n}\n\nexport default Services;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}